import { PgType } from './types';
import { createBuffer32, createBuffer16 } from './utils';

export interface TypeDef {
  type: Buffer;
  oid: Buffer;
  length: Buffer;
  modifier: Buffer;
}

export class PgTypes {
  static _types: Record<string, TypeDef> = {};

  static getDef<T extends string>(name: PgType<T>) {
    return this._types[name];
  }

  static addType<T extends string>(
    name: PgType<T>,
    oid: number,
    length: number,
    modifier = -1,
  ) {
    const def: TypeDef = {
      type: Buffer.from(name),
      oid: createBuffer32(oid),
      length: createBuffer16(length),
      modifier: createBuffer32(modifier),
    };

    this._types[name] = def;

    return def;
  }
}

PgTypes.addType('bool', 1000, 1, -1);
PgTypes.addType('bytea', 1001, -1, -1);
PgTypes.addType('char', 1002, 1, -1);
PgTypes.addType('name', 1003, 64, -1);
PgTypes.addType('int8', 1016, 8, -1);
PgTypes.addType('int2', 1005, 2, -1);
PgTypes.addType('int2vector', 1006, -1, -1);
PgTypes.addType('int4', 1007, 4, -1);
PgTypes.addType('regproc', 1008, 4, -1);
PgTypes.addType('text', 1009, -1, -1);
PgTypes.addType('oid', 1028, 4, -1);
PgTypes.addType('tid', 1010, 6, -1);
PgTypes.addType('xid', 1011, 4, -1);
PgTypes.addType('cid', 1012, 4, -1);
PgTypes.addType('oidvector', 1013, -1, -1);
PgTypes.addType('pg_type', 0, -1, -1);
PgTypes.addType('pg_attribute', 0, -1, -1);
PgTypes.addType('pg_proc', 0, -1, -1);
PgTypes.addType('pg_class', 0, -1, -1);
PgTypes.addType('json', 199, -1, -1);
PgTypes.addType('xml', 143, -1, -1);
PgTypes.addType('_xml', 0, -1, -1);
PgTypes.addType('_json', 0, -1, -1);
PgTypes.addType('pg_node_tree', 0, -1, -1);
PgTypes.addType('pg_ndistinct', 0, -1, -1);
PgTypes.addType('pg_dependencies', 0, -1, -1);
PgTypes.addType('pg_ddl_command', 0, 8, -1);
PgTypes.addType('smgr', 0, 2, -1);
PgTypes.addType('point', 1017, 16, -1);
PgTypes.addType('lseg', 1018, 32, -1);
PgTypes.addType('path', 1019, -1, -1);
PgTypes.addType('box', 1020, 32, -1);
PgTypes.addType('polygon', 1027, -1, -1);
PgTypes.addType('line', 629, 24, -1);
PgTypes.addType('_line', 0, -1, -1);
PgTypes.addType('float4', 1021, 4, -1);
PgTypes.addType('float8', 1022, 8, -1);
PgTypes.addType('abstime', 1023, 4, -1);
PgTypes.addType('reltime', 1024, 4, -1);
PgTypes.addType('tinterval', 1025, 12, -1);
PgTypes.addType('unknown', 0, -2, -1);
PgTypes.addType('circle', 719, 24, -1);
PgTypes.addType('_circle', 0, -1, -1);
PgTypes.addType('money', 791, 8, -1);
PgTypes.addType('_money', 0, -1, -1);
PgTypes.addType('macaddr', 1040, 6, -1);
PgTypes.addType('inet', 1041, -1, -1);
PgTypes.addType('cidr', 651, -1, -1);
PgTypes.addType('macaddr8', 775, 8, -1);
PgTypes.addType('_bool', 0, -1, -1);
PgTypes.addType('_bytea', 0, -1, -1);
PgTypes.addType('_char', 0, -1, -1);
PgTypes.addType('_name', 0, -1, -1);
PgTypes.addType('_int2', 0, -1, -1);
PgTypes.addType('_int2vector', 0, -1, -1);
PgTypes.addType('_int4', 0, -1, -1);
PgTypes.addType('_regproc', 0, -1, -1);
PgTypes.addType('_text', 0, -1, -1);
PgTypes.addType('_oid', 0, -1, -1);
PgTypes.addType('_tid', 0, -1, -1);
PgTypes.addType('_xid', 0, -1, -1);
PgTypes.addType('_cid', 0, -1, -1);
PgTypes.addType('_oidvector', 0, -1, -1);
PgTypes.addType('_bpchar', 0, -1, -1);
PgTypes.addType('_varchar', 0, -1, -1);
PgTypes.addType('_int8', 0, -1, -1);
PgTypes.addType('_point', 0, -1, -1);
PgTypes.addType('_lseg', 0, -1, -1);
PgTypes.addType('_path', 0, -1, -1);
PgTypes.addType('_box', 0, -1, -1);
PgTypes.addType('_float4', 0, -1, -1);
PgTypes.addType('_float8', 0, -1, -1);
PgTypes.addType('_abstime', 0, -1, -1);
PgTypes.addType('_reltime', 0, -1, -1);
PgTypes.addType('_tinterval', 0, -1, -1);
PgTypes.addType('_polygon', 0, -1, -1);
PgTypes.addType('aclitem', 1034, 12, -1);
PgTypes.addType('_aclitem', 0, -1, -1);
PgTypes.addType('_macaddr', 0, -1, -1);
PgTypes.addType('_macaddr8', 0, -1, -1);
PgTypes.addType('_inet', 0, -1, -1);
PgTypes.addType('_cidr', 0, -1, -1);
PgTypes.addType('_cstring', 0, -1, -1);
PgTypes.addType('bpchar', 1014, -1, -1);
PgTypes.addType('varchar', 1015, -1, -1);
PgTypes.addType('date', 1182, 4, -1);
PgTypes.addType('time', 1183, 8, -1);
PgTypes.addType('timestamp', 1115, 8, -1);
PgTypes.addType('_timestamp', 0, -1, -1);
PgTypes.addType('_date', 0, -1, -1);
PgTypes.addType('_time', 0, -1, -1);
PgTypes.addType('timestamptz', 1185, 8, -1);
PgTypes.addType('_timestamptz', 0, -1, -1);
PgTypes.addType('interval', 1187, 16, -1);
PgTypes.addType('_interval', 0, -1, -1);
PgTypes.addType('_numeric', 0, -1, -1);
PgTypes.addType('timetz', 1270, 12, -1);
PgTypes.addType('_timetz', 0, -1, -1);
PgTypes.addType('bit', 1561, -1, -1);
PgTypes.addType('_bit', 0, -1, -1);
PgTypes.addType('varbit', 1563, -1, -1);
PgTypes.addType('_varbit', 0, -1, -1);
PgTypes.addType('numeric', 1231, -1, -1);
PgTypes.addType('refcursor', 2201, -1, -1);
PgTypes.addType('_refcursor', 0, -1, -1);
PgTypes.addType('regprocedure', 2207, 4, -1);
PgTypes.addType('regoper', 2208, 4, -1);
PgTypes.addType('regoperator', 2209, 4, -1);
PgTypes.addType('regclass', 2210, 4, -1);
PgTypes.addType('regtype', 2211, 4, -1);
PgTypes.addType('regrole', 4097, 4, -1);
PgTypes.addType('regnamespace', 4090, 4, -1);
PgTypes.addType('_regprocedure', 0, -1, -1);
PgTypes.addType('_regoper', 0, -1, -1);
PgTypes.addType('_regoperator', 0, -1, -1);
PgTypes.addType('_regclass', 0, -1, -1);
PgTypes.addType('_regtype', 0, -1, -1);
PgTypes.addType('_regrole', 0, -1, -1);
PgTypes.addType('_regnamespace', 0, -1, -1);
PgTypes.addType('uuid', 2951, 16, -1);
PgTypes.addType('_uuid', 0, -1, -1);
PgTypes.addType('pg_lsn', 3221, 8, -1);
PgTypes.addType('_pg_lsn', 0, -1, -1);
PgTypes.addType('tsvector', 3643, -1, -1);
PgTypes.addType('gtsvector', 3644, -1, -1);
PgTypes.addType('tsquery', 3645, -1, -1);
PgTypes.addType('regconfig', 3735, 4, -1);
PgTypes.addType('regdictionary', 3770, 4, -1);
PgTypes.addType('_tsvector', 0, -1, -1);
PgTypes.addType('_gtsvector', 0, -1, -1);
PgTypes.addType('_tsquery', 0, -1, -1);
PgTypes.addType('_regconfig', 0, -1, -1);
PgTypes.addType('_regdictionary', 0, -1, -1);
PgTypes.addType('jsonb', 3807, -1, -1);
PgTypes.addType('_jsonb', 0, -1, -1);
PgTypes.addType('txid_snapshot', 2949, -1, -1);
PgTypes.addType('_txid_snapshot', 0, -1, -1);
PgTypes.addType('int4range', 3905, -1, -1);
PgTypes.addType('_int4range', 0, -1, -1);
PgTypes.addType('numrange', 3907, -1, -1);
PgTypes.addType('_numrange', 0, -1, -1);
PgTypes.addType('tsrange', 3909, -1, -1);
PgTypes.addType('_tsrange', 0, -1, -1);
PgTypes.addType('tstzrange', 3911, -1, -1);
PgTypes.addType('_tstzrange', 0, -1, -1);
PgTypes.addType('daterange', 3913, -1, -1);
PgTypes.addType('_daterange', 0, -1, -1);
PgTypes.addType('int8range', 3927, -1, -1);
PgTypes.addType('_int8range', 0, -1, -1);
PgTypes.addType('record', 2287, -1, -1);
PgTypes.addType('_record', 0, -1, -1);
PgTypes.addType('cstring', 1263, -2, -1);
PgTypes.addType('any', 0, 4, -1);
PgTypes.addType('anyarray', 0, -1, -1);
PgTypes.addType('void', 0, 4, -1);
PgTypes.addType('trigger', 0, 4, -1);
PgTypes.addType('event_trigger', 0, 4, -1);
PgTypes.addType('language_handler', 0, 4, -1);
PgTypes.addType('internal', 0, 8, -1);
PgTypes.addType('opaque', 0, 4, -1);
PgTypes.addType('anyelement', 0, 4, -1);
PgTypes.addType('anynonarray', 0, 4, -1);
PgTypes.addType('anyenum', 0, 4, -1);
PgTypes.addType('fdw_handler', 0, 4, -1);
PgTypes.addType('index_am_handler', 0, 4, -1);
PgTypes.addType('tsm_handler', 0, 4, -1);
PgTypes.addType('anyrange', 0, -1, -1);
PgTypes.addType('pg_attrdef', 0, -1, -1);
PgTypes.addType('pg_constraint', 0, -1, -1);
PgTypes.addType('pg_inherits', 0, -1, -1);
PgTypes.addType('pg_index', 0, -1, -1);
PgTypes.addType('pg_operator', 0, -1, -1);
PgTypes.addType('pg_opfamily', 0, -1, -1);
PgTypes.addType('pg_opclass', 0, -1, -1);
PgTypes.addType('pg_am', 0, -1, -1);
PgTypes.addType('pg_amop', 0, -1, -1);
PgTypes.addType('pg_amproc', 0, -1, -1);
PgTypes.addType('pg_language', 0, -1, -1);
PgTypes.addType('pg_largeobject_metadata', 0, -1, -1);
PgTypes.addType('pg_largeobject', 0, -1, -1);
PgTypes.addType('pg_aggregate', 0, -1, -1);
PgTypes.addType('pg_statistic_ext', 0, -1, -1);
PgTypes.addType('pg_statistic', 0, -1, -1);
PgTypes.addType('pg_rewrite', 0, -1, -1);
PgTypes.addType('pg_trigger', 0, -1, -1);
PgTypes.addType('pg_event_trigger', 0, -1, -1);
PgTypes.addType('pg_description', 0, -1, -1);
PgTypes.addType('pg_cast', 0, -1, -1);
PgTypes.addType('pg_enum', 0, -1, -1);
PgTypes.addType('pg_namespace', 0, -1, -1);
PgTypes.addType('pg_conversion', 0, -1, -1);
PgTypes.addType('pg_depend', 0, -1, -1);
PgTypes.addType('pg_database', 0, -1, -1);
PgTypes.addType('pg_db_role_setting', 0, -1, -1);
PgTypes.addType('pg_tablespace', 0, -1, -1);
PgTypes.addType('pg_pltemplate', 0, -1, -1);
PgTypes.addType('pg_authid', 0, -1, -1);
PgTypes.addType('pg_auth_members', 0, -1, -1);
PgTypes.addType('pg_shdepend', 0, -1, -1);
PgTypes.addType('pg_shdescription', 0, -1, -1);
PgTypes.addType('pg_ts_config', 0, -1, -1);
PgTypes.addType('pg_ts_config_map', 0, -1, -1);
PgTypes.addType('pg_ts_dict', 0, -1, -1);
PgTypes.addType('pg_ts_parser', 0, -1, -1);
PgTypes.addType('pg_ts_template', 0, -1, -1);
PgTypes.addType('pg_extension', 0, -1, -1);
PgTypes.addType('pg_foreign_data_wrapper', 0, -1, -1);
PgTypes.addType('pg_foreign_server', 0, -1, -1);
PgTypes.addType('pg_user_mapping', 0, -1, -1);
PgTypes.addType('pg_foreign_table', 0, -1, -1);
PgTypes.addType('pg_policy', 0, -1, -1);
PgTypes.addType('pg_replication_origin', 0, -1, -1);
PgTypes.addType('pg_default_acl', 0, -1, -1);
PgTypes.addType('pg_init_privs', 0, -1, -1);
PgTypes.addType('pg_seclabel', 0, -1, -1);
PgTypes.addType('pg_shseclabel', 0, -1, -1);
PgTypes.addType('pg_collation', 0, -1, -1);
PgTypes.addType('pg_partitioned_table', 0, -1, -1);
PgTypes.addType('pg_range', 0, -1, -1);
PgTypes.addType('pg_transform', 0, -1, -1);
PgTypes.addType('pg_sequence', 0, -1, -1);
PgTypes.addType('pg_publication', 0, -1, -1);
PgTypes.addType('pg_publication_rel', 0, -1, -1);
PgTypes.addType('pg_subscription', 0, -1, -1);
PgTypes.addType('pg_subscription_rel', 0, -1, -1);
PgTypes.addType('pg_toast_2604', 0, -1, -1);
PgTypes.addType('pg_toast_2606', 0, -1, -1);
PgTypes.addType('pg_toast_2609', 0, -1, -1);
PgTypes.addType('pg_toast_1255', 0, -1, -1);
PgTypes.addType('pg_toast_2618', 0, -1, -1);
PgTypes.addType('pg_toast_3596', 0, -1, -1);
PgTypes.addType('pg_toast_2619', 0, -1, -1);
PgTypes.addType('pg_toast_3381', 0, -1, -1);
PgTypes.addType('pg_toast_2620', 0, -1, -1);
PgTypes.addType('pg_toast_2396', 0, -1, -1);
PgTypes.addType('pg_toast_2964', 0, -1, -1);
PgTypes.addType('pg_toast_3592', 0, -1, -1);
PgTypes.addType('pg_roles', 0, -1, -1);
PgTypes.addType('pg_shadow', 0, -1, -1);
PgTypes.addType('pg_group', 0, -1, -1);
PgTypes.addType('pg_user', 0, -1, -1);
PgTypes.addType('pg_policies', 0, -1, -1);
PgTypes.addType('pg_rules', 0, -1, -1);
PgTypes.addType('pg_views', 0, -1, -1);
PgTypes.addType('pg_tables', 0, -1, -1);
PgTypes.addType('pg_matviews', 0, -1, -1);
PgTypes.addType('pg_indexes', 0, -1, -1);
PgTypes.addType('pg_sequences', 0, -1, -1);
PgTypes.addType('pg_stats', 0, -1, -1);
PgTypes.addType('pg_publication_tables', 0, -1, -1);
PgTypes.addType('pg_locks', 0, -1, -1);
PgTypes.addType('pg_cursors', 0, -1, -1);
PgTypes.addType('pg_available_extensions', 0, -1, -1);
PgTypes.addType('pg_available_extension_versions', 0, -1, -1);
PgTypes.addType('pg_prepared_xacts', 0, -1, -1);
PgTypes.addType('pg_prepared_statements', 0, -1, -1);
PgTypes.addType('pg_seclabels', 0, -1, -1);
PgTypes.addType('pg_settings', 0, -1, -1);
PgTypes.addType('pg_file_settings', 0, -1, -1);
PgTypes.addType('pg_hba_file_rules', 0, -1, -1);
PgTypes.addType('pg_timezone_abbrevs', 0, -1, -1);
PgTypes.addType('pg_timezone_names', 0, -1, -1);
PgTypes.addType('pg_config', 0, -1, -1);
PgTypes.addType('pg_stat_all_tables', 0, -1, -1);
PgTypes.addType('pg_stat_xact_all_tables', 0, -1, -1);
PgTypes.addType('pg_stat_sys_tables', 0, -1, -1);
PgTypes.addType('pg_stat_xact_sys_tables', 0, -1, -1);
PgTypes.addType('pg_stat_user_tables', 0, -1, -1);
PgTypes.addType('pg_stat_xact_user_tables', 0, -1, -1);
PgTypes.addType('pg_statio_all_tables', 0, -1, -1);
PgTypes.addType('pg_statio_sys_tables', 0, -1, -1);
PgTypes.addType('pg_statio_user_tables', 0, -1, -1);
PgTypes.addType('pg_stat_all_indexes', 0, -1, -1);
PgTypes.addType('pg_stat_sys_indexes', 0, -1, -1);
PgTypes.addType('pg_stat_user_indexes', 0, -1, -1);
PgTypes.addType('pg_statio_all_indexes', 0, -1, -1);
PgTypes.addType('pg_statio_sys_indexes', 0, -1, -1);
PgTypes.addType('pg_statio_user_indexes', 0, -1, -1);
PgTypes.addType('pg_statio_all_sequences', 0, -1, -1);
PgTypes.addType('pg_statio_sys_sequences', 0, -1, -1);
PgTypes.addType('pg_statio_user_sequences', 0, -1, -1);
PgTypes.addType('pg_stat_activity', 0, -1, -1);
PgTypes.addType('pg_stat_replication', 0, -1, -1);
PgTypes.addType('pg_stat_wal_receiver', 0, -1, -1);
PgTypes.addType('pg_stat_subscription', 0, -1, -1);
PgTypes.addType('pg_stat_ssl', 0, -1, -1);
PgTypes.addType('pg_replication_slots', 0, -1, -1);
PgTypes.addType('pg_stat_database', 0, -1, -1);
PgTypes.addType('pg_stat_database_conflicts', 0, -1, -1);
PgTypes.addType('pg_stat_user_functions', 0, -1, -1);
PgTypes.addType('pg_stat_xact_user_functions', 0, -1, -1);
PgTypes.addType('pg_stat_archiver', 0, -1, -1);
PgTypes.addType('pg_stat_bgwriter', 0, -1, -1);
PgTypes.addType('pg_stat_progress_vacuum', 0, -1, -1);
PgTypes.addType('pg_user_mappings', 0, -1, -1);
PgTypes.addType('pg_replication_origin_status', 0, -1, -1);
PgTypes.addType('cardinal_number', 23, 4, -1);
PgTypes.addType('character_data', 1043, -1, -1);
PgTypes.addType('sql_identifier', 1043, -1, -1);
PgTypes.addType('information_schema_catalog_name', 0, -1, -1);
PgTypes.addType('time_stamp', 1184, 8, 2);
PgTypes.addType('yes_or_no', 1043, -1, 7);
PgTypes.addType('applicable_roles', 0, -1, -1);
PgTypes.addType('administrable_role_authorizations', 0, -1, -1);
PgTypes.addType('attributes', 0, -1, -1);
PgTypes.addType('character_sets', 0, -1, -1);
PgTypes.addType('check_constraint_routine_usage', 0, -1, -1);
PgTypes.addType('check_constraints', 0, -1, -1);
PgTypes.addType('collations', 0, -1, -1);
PgTypes.addType('collation_character_set_applicability', 0, -1, -1);
PgTypes.addType('column_domain_usage', 0, -1, -1);
PgTypes.addType('column_privileges', 0, -1, -1);
PgTypes.addType('column_udt_usage', 0, -1, -1);
PgTypes.addType('columns', 0, -1, -1);
PgTypes.addType('constraint_column_usage', 0, -1, -1);
PgTypes.addType('constraint_table_usage', 0, -1, -1);
PgTypes.addType('domain_constraints', 0, -1, -1);
PgTypes.addType('domain_udt_usage', 0, -1, -1);
PgTypes.addType('domains', 0, -1, -1);
PgTypes.addType('enabled_roles', 0, -1, -1);
PgTypes.addType('key_column_usage', 0, -1, -1);
PgTypes.addType('parameters', 0, -1, -1);
PgTypes.addType('referential_constraints', 0, -1, -1);
PgTypes.addType('role_column_grants', 0, -1, -1);
PgTypes.addType('routine_privileges', 0, -1, -1);
PgTypes.addType('role_routine_grants', 0, -1, -1);
PgTypes.addType('routines', 0, -1, -1);
PgTypes.addType('schemata', 0, -1, -1);
PgTypes.addType('sequences', 0, -1, -1);
PgTypes.addType('sql_features', 0, -1, -1);
PgTypes.addType('pg_toast_12829', 0, -1, -1);
PgTypes.addType('sql_implementation_info', 0, -1, -1);
PgTypes.addType('pg_toast_12834', 0, -1, -1);
PgTypes.addType('sql_languages', 0, -1, -1);
PgTypes.addType('pg_toast_12839', 0, -1, -1);
PgTypes.addType('sql_packages', 0, -1, -1);
PgTypes.addType('pg_toast_12844', 0, -1, -1);
PgTypes.addType('sql_parts', 0, -1, -1);
PgTypes.addType('pg_toast_12849', 0, -1, -1);
PgTypes.addType('sql_sizing', 0, -1, -1);
PgTypes.addType('pg_toast_12854', 0, -1, -1);
PgTypes.addType('sql_sizing_profiles', 0, -1, -1);
PgTypes.addType('pg_toast_12859', 0, -1, -1);
PgTypes.addType('table_constraints', 0, -1, -1);
PgTypes.addType('table_privileges', 0, -1, -1);
PgTypes.addType('role_table_grants', 0, -1, -1);
PgTypes.addType('tables', 0, -1, -1);
PgTypes.addType('transforms', 0, -1, -1);
PgTypes.addType('triggered_update_columns', 0, -1, -1);
PgTypes.addType('triggers', 0, -1, -1);
PgTypes.addType('udt_privileges', 0, -1, -1);
PgTypes.addType('role_udt_grants', 0, -1, -1);
PgTypes.addType('usage_privileges', 0, -1, -1);
PgTypes.addType('role_usage_grants', 0, -1, -1);
PgTypes.addType('user_defined_types', 0, -1, -1);
PgTypes.addType('view_column_usage', 0, -1, -1);
PgTypes.addType('view_routine_usage', 0, -1, -1);
PgTypes.addType('view_table_usage', 0, -1, -1);
PgTypes.addType('views', 0, -1, -1);
PgTypes.addType('data_type_privileges', 0, -1, -1);
PgTypes.addType('element_types', 0, -1, -1);
PgTypes.addType('_pg_foreign_table_columns', 0, -1, -1);
PgTypes.addType('column_options', 0, -1, -1);
PgTypes.addType('_pg_foreign_data_wrappers', 0, -1, -1);
PgTypes.addType('foreign_data_wrapper_options', 0, -1, -1);
PgTypes.addType('foreign_data_wrappers', 0, -1, -1);
PgTypes.addType('_pg_foreign_servers', 0, -1, -1);
PgTypes.addType('foreign_server_options', 0, -1, -1);
PgTypes.addType('foreign_servers', 0, -1, -1);
PgTypes.addType('_pg_foreign_tables', 0, -1, -1);
PgTypes.addType('foreign_table_options', 0, -1, -1);
PgTypes.addType('foreign_tables', 0, -1, -1);
PgTypes.addType('_pg_user_mappings', 0, -1, -1);
PgTypes.addType('user_mapping_options', 0, -1, -1);
PgTypes.addType('user_mappings', 0, -1, -1);
